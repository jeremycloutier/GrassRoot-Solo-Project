var app=angular.module("grassrootApp",["ngRoute"]),eventID;app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/content.html",controller:"EventController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/success",{templateUrl:"views/success.html",controller:"SuccessController"}).when("/failure",{templateUrl:"../server/public/views/failure.html",controller:"FailController"}).when("/event",{templateUrl:"views/event.html",controller:"DisplayController"}).when("/home",{templateUrl:"views/user.html",controller:"EventController"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","$http",function(a,b){a.selectedEvent={}}]),app.controller("EventController",["$scope","$http",function(a,b){a.states=["AL","AK","AZ","AR","CA","CO","CT","DC","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],a.events=[],a.getEvents=function(){var c="/event/"+a.selectState;b.get(c).then(function(b){console.log(b),a.events=b.data})},a.chooseEvent=function(a){console.log("This is event id:",a.id),eventID=a.id}}]),app.controller("DisplayController",["$scope","$http",function(a,b){a.linkToEvent=function(){b.get("/event/info/"+eventID).then(function(b){console.log(b),a.selectedEvent=b.data[0],console.log(a.selectedEvent.title)})},a.linkToEvent()}]),app.controller("LoginController",["$scope","$http","$location",function(a,b,c){a.submitLogin=function(){console.log(a.data),b.post("/",a.data).then(function(a){var b=a.data;c.path(b),console.log(a)},function(a){})},a.logout=function(){b.get("/logout").then(function(){console.log("logout clicked"),c.path("/")})}}]);